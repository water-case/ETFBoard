<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" isELIgnored="false"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"  %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
<c:set var="contextPath"  value="${pageContext.request.contextPath}"  />

<div class="container">
<table class="table table-sm">
  <thead>
    <tr class="table-sm table-active">
      <th class="text-center" scope="col" style="width:7%">번호</th>
      <th class="text-center" scope="col" style="width:50%">글제목</th>
      <th class="text-center" scope="col" style="width:18%">닉네임</th>
      <th class="text-center" scope="col" style="width:13%">작성일</th>
      <th class="text-center" scope="col" style="width:6%">추천</th>
      <th class="text-center" scope="col" style="width:6%">조회</th>
    </tr>
  </thead>
  <tbody>
	<c:forEach var="board" items="${boardList}">
	    <tr>
	      <td class="text-center">${board.boardIndex}</td>
	      <td class="px-4">${board.title}</td>
	      <td class="text-center">${board.name}</td>
	      <td class="text-center">${board.writtenDate}</td>
	      <td class="text-center">${board.push}</td>
	      <td class="text-center">${board.views}</td>
	    </tr>
	</c:forEach>
  </tbody>
</table>

<!-- 페이징 -->
<!-- 조건에 따라 페이징을 적합하게 변경 -->
<!-- << 1 2 3 4 5 6 7 8 9 10 >> 현재페이지는 색이 다르게 표시 -->
	
	<div class="text-center">	
      <div class="row">
        <div class="col-md-2">
        	<button type="button" class="btn btn-secondary disabled">글쓰기</button>
        </div>
        <div class="col-md-8">
          <ul class="pagination justify-content-center">
		    <li class="page-item disabled">
		    	<c:if test="${startPage eq 0}">
			      <a class="page-link" href="${contextPath}/board/page?page=${startPage*5-4}">&laquo;</a>		<!-- 5페이지씩 왼쪽으로 -->
		    	</c:if>
		    	<c:if test="${startPage ne 0}">
			      <a class="page-link" href="${contextPath}/board/page?page=${startPage*5-4}">&laquo;</a>		<!-- 5페이지씩 왼쪽으로 -->
		    	</c:if>
		    </li>
			<c:forEach var="page" begin="${startPage*5+1}" end="${startPage*5+5}" step="1">
				<c:choose>
					<c:when test="${page == nowPage}">
					    <li class="page-item active">
					      <a class="page-link" href="${contextPath}/board/page?page=${page}">${page}</a>
					    </li>
					</c:when>
					<c:otherwise>
						<li class="page-item">
					      <a class="page-link" href="${contextPath}/board/page?page=${page}">${page}</a>
					    </li>
					</c:otherwise>
				</c:choose>
			</c:forEach>
		    <li class="page-item">
		      <a class="page-link" href="${contextPath}/board/page?page=${startPage+6}">&raquo;</a>		<!-- 5페이지씩 오른쪽으로 -->
		    </li>
		  </ul>
        </div>
        <div class="col-md-5"></div>
      </div>
    </div>
	
</div>
